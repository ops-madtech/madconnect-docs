# SFTP (Destination)

## **SFTP Destination – Connector Overview**

MadConnect supports SFTP as a destination connector for delivering files to external systems using secure, key-based authentication. The SFTP destination is commonly used for **custom file-based audience activation**, partner data delivery, offline onboarding workflows, and general-purpose data exports.

SFTP is a flexible destination that can receive **any structured dataset** produced by MadConnect, including audience files, conversion exports, reporting feeds, or custom partner formats.

***

### **Common Use Cases**

The SFTP destination is typically used for:

1. Custom file-based audience activation
2. Partner or publisher onboarding
3. Data delivery to platforms without APIs
4. Secure handoff to internal systems
5. Regulatory or compliance-driven exports
6. Scheduled file drops (daily, weekly, etc.)

SFTP is **not limited to audience use cases** — it is a general file delivery mechanism.

***

### **Prerequisites**

Before configuring the SFTP connector, ensure the following:

#### **SFTP Server Access**

1. An accessible SFTP server endpoint
2. Network access that allows inbound connections from MadConnect
3. A valid SFTP user account on the server

#### **Authentication Method**

1. SSH private key–based authentication is required
2. Password-based authentication is not supported
3. The private key must not be passphrase-protected (unless explicitly supported)

#### **Destination Path**

1. A valid directory path on the SFTP server
2. Write permissions for the configured SFTP user

***

### **Connector Configuration (My Platforms → SFTP)**

The **connector configuration** establishes authentication and connectivity to the SFTP server.\
This is configured once and reused across multiple connections.

#### **Required Configuration Fields**

| Field               | Required | Description                         |
| ------------------- | -------- | ----------------------------------- |
| **Hostname**        | Yes      | SFTP server hostname or IP address  |
| **Port**            | Yes      | SFTP port (typically 22)            |
| **Username**        | Yes      | SFTP username                       |
| **SSH Private Key** | Yes      | Private key used for authentication |

#### **Security Notes**

1. The private key is stored securely within the cloud platform being leveraged.
2. MadConnect uses key-based authentication only
3. Keys are never exposed in logs or reports

Once saved successfully, the SFTP platform will appear as **Configured** under **My Platforms**.

***

### **Connection Configuration (When SFTP Is the Destination)**

When creating a connection where **SFTP is the destination**, additional delivery-specific fields are required.

#### **SFTP Destination Fields**

| Field    | Required | Description                                                               |
| -------- | -------- | ------------------------------------------------------------------------- |
| **Path** | Yes      | Destination directory path on the SFTP server where files will be written |

1. The **Path** determines where output files are placed for each transfer
2. MadConnect writes files directly to this location

***

### **Source + Destination Behavior**

When SFTP is selected as the destination:

1. The **source** defines the dataset (Snowflake, S3, etc.)
2. MadConnect extracts data based on source configuration
3. Data is transformed and formatted according to the selected schema
4. Output files are written to the specified SFTP path

SFTP does not enforce a schema - it receives the file generated by MadConnect.

***

### **File Generation & Delivery Behavior**

MadConnect manages:

1. File transfer
2. Delivery retries
3. Partial failure handling

File formats (CSV, JSON, etc.) and schemas are determined by the **destination use case**.

***

### **Scheduling & Incremental Delivery**

SFTP supports both **manual** and **scheduled** transfers.

When used with incremental sources (e.g., Snowflake with marker columns):

1. Only new or updated rows are included in each delivery
2. Marker position is tracked per connection
3. Files contain only incremental data for that run

This enables efficient recurring file delivery workflows.

***

### **Error Handling & Monitoring**

MadConnect provides:

1. Connection-level delivery status
2. File write success or failure reporting
3. Automatic retries for transient SFTP errors
4. Run-level visibility via the **Reports** tab

Authentication or permission issues surface clearly during execution.

***

### **Important Notes**

1. SFTP is a **write-only destination** from MadConnect’s perspective
2. Destination directories must already exist
3. Permissions must allow file creation and overwrite (if applicable)
4. Large files may be chunked depending on configuration
5. SFTP is ideal for systems without APIs or requiring offline ingestion
